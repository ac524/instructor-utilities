{"version":3,"sources":["../../../src/components/image/image.js"],"names":["Image","props","setState","src","fallback","state","className","alt","size","rounded","fullwidth","s","onError","PureComponent","propTypes","modifiers","PropTypes","string","bool","style","shape","oneOf","CONSTANTS","SIZES","defaultProps","undefined"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,K;;;;;AACnB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,8DAKT,YAAM;AACd,YAAKC,QAAL,CAAc;AACZC,QAAAA,GAAG,EAAE,MAAKF,KAAL,CAAWG;AADJ,OAAd;AAGD,KATkB;;AAEjB,UAAKC,KAAL,GAAa,EAAb;AAFiB;AAGlB;;;;6BAaQ;AAAA;;AAAA,wBAUH,KAAKJ,KAVF;AAAA,UAELK,SAFK,eAELA,SAFK;AAAA,UAGLC,GAHK,eAGLA,GAHK;AAAA,UAILC,IAJK,eAILA,IAJK;AAAA,UAKLJ,QALK,eAKLA,QALK;AAAA,UAMLK,OANK,eAMLA,OANK;AAAA,UAOLN,GAPK,eAOLA,GAPK;AAAA,UAQLO,SARK,eAQLA,SARK;AAAA,UASFT,KATE;;AAWP,UAAIU,CAAC,GAAGH,IAAR;;AAEA,UAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5BG,QAAAA,CAAC,aAAMA,CAAN,cAAWA,CAAX,CAAD;AACD;;AAED,aACE,gCAAC,mBAAD,eACMV,KADN;AAEE,QAAA,QAAQ,EAAC,QAFX;AAGE,QAAA,SAAS,EAAE,6BAAW,OAAX,EAAoBK,SAApB,+DACFK,CADE,GACIA,CADJ,gCAET,cAFS,EAEOD,SAFP;AAHb,UAQE;AACE,QAAA,SAAS,EAAE,6BAAW;AACpB,wBAAcD;AADM,SAAX,CADb;AAIE,QAAA,OAAO,EAAE,KAAKG,OAJhB;AAKE,QAAA,GAAG,EAAE,KAAKP,KAAL,CAAWF,GALlB;AAME,QAAA,GAAG,EAAEI;AANP,QARF,CADF;AAmBD;;;;EArDgCM,oB;;;;gBAAdb,K,8BAYe,UAACC,KAAD,EAAQI,KAAR;AAAA,SAAmB;AACnDF,IAAAA,GAAG,EAAEE,KAAK,WAAL,KAAkBJ,KAAK,CAACE,GAAxB,GAA8BF,KAAK,CAACE,GAApC,GAA0CE,KAAK,CAACF,GADF;AAEnD,eAASF,KAAK,CAACE;AAFoC,GAAnB;AAAA,C;;AA4CpCH,KAAK,CAACc,SAAN,qBACKC,sBAAUD,SADf;AAEER,EAAAA,SAAS,EAAEU,sBAAUC,MAFvB;AAGEd,EAAAA,GAAG,EAAEa,sBAAUC,MAHjB;AAIEV,EAAAA,GAAG,EAAES,sBAAUC,MAJjB;AAKER,EAAAA,OAAO,EAAEO,sBAAUE,IALrB;AAMEC,EAAAA,KAAK,EAAEH,sBAAUI,KAAV,CAAgB,EAAhB,CANT;AAOEZ,EAAAA,IAAI,EAAEQ,sBAAUK,KAAV,CAAgBC,sBAAUC,KAA1B,CAPR;AAQEnB,EAAAA,QAAQ,EAAEY,sBAAUC,MARtB;AASEP,EAAAA,SAAS,EAAEM,sBAAUE;AATvB;AAYAlB,KAAK,CAACwB,YAAN,qBACKT,sBAAUS,YADf;AAEElB,EAAAA,SAAS,EAAEmB,SAFb;AAGEtB,EAAAA,GAAG,EAAE,EAHP;AAIEI,EAAAA,GAAG,EAAE,EAJP;AAKEE,EAAAA,OAAO,EAAE,KALX;AAMEU,EAAAA,KAAK,EAAEM,SANT;AAOEjB,EAAAA,IAAI,EAAEiB,SAPR;AAQErB,EAAAA,QAAQ,EAAE,kDARZ;AASEM,EAAAA,SAAS,EAAE;AATb","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CONSTANTS from './constants';\nimport modifiers from '../../modifiers';\nimport Element from '../element';\n\nexport default class Image extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  onError = () => {\n    this.setState({\n      src: this.props.fallback,\n    });\n  };\n\n  static getDerivedStateFromProps = (props, state) => ({\n    src: state.default !== props.src ? props.src : state.src,\n    default: props.src,\n  });\n\n  render() {\n    const {\n      className,\n      alt,\n      size,\n      fallback,\n      rounded,\n      src,\n      fullwidth,\n      ...props\n    } = this.props;\n    let s = size;\n\n    if (typeof size === 'number') {\n      s = `${s}x${s}`;\n    }\n\n    return (\n      <Element\n        {...props}\n        renderAs=\"figure\"\n        className={classnames('image', className, {\n          [`is-${s}`]: s,\n          'is-fullwidth': fullwidth,\n        })}\n      >\n        <img\n          className={classnames({\n            'is-rounded': rounded,\n          })}\n          onError={this.onError}\n          src={this.state.src}\n          alt={alt}\n        />\n      </Element>\n    );\n  }\n}\n\nImage.propTypes = {\n  ...modifiers.propTypes,\n  className: PropTypes.string,\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  rounded: PropTypes.bool,\n  style: PropTypes.shape({}),\n  size: PropTypes.oneOf(CONSTANTS.SIZES),\n  fallback: PropTypes.string,\n  fullwidth: PropTypes.bool,\n};\n\nImage.defaultProps = {\n  ...modifiers.defaultProps,\n  className: undefined,\n  src: '',\n  alt: '',\n  rounded: false,\n  style: undefined,\n  size: undefined,\n  fallback: 'https://bulma.io/images/placeholders/480x480.png',\n  fullwidth: false,\n};\n"],"file":"image.js"}